#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int is_alpha(char c) {
	return c>'A' && c<'z';
}

char lowercase(char c) {
	if (c<'a') return c+('a'-'A');
	else return c;
}

// there is an input that will reveal the flag
// comile with gcc -O0 -fno-stack-protector exploit.c
int main(int argc, char *argv[]) {
	char flag[32];
	char words[26][32] = {
		"alligator",
		"banana",
		"crocodile",
		"dinosaur",
		"elephant",
		"fossil",
		"grandmother",
		"highness",
		"igloo",
		"jaguar",
		"kiliminjaro",
		"logger",
		"monster",
		"nautical",
		"octopus",
		"porous",
		"quilt",
		"race",
		"stunt",
		"terror",
		"uber",
		"velocity",
		"water",
		"xylophone",
		"yellow",
		"zoo"
	};
	strcpy(flag,argv[1]);
	size_t line_size = 1024;
	char* line_buffer = (char*)malloc(line_size);

	while (1) {
		printf("Enter word to get another word with the same first letter\n");
		fflush(stdout);

		getline(&line_buffer,&line_size,stdin);
		int user_input = line_buffer[0];
		if (!is_alpha(user_input)) continue;
		user_input = lowercase(user_input);
		int word_index = user_input - 'a';
		if (word_index>=0 && word_index<=26) {
			puts(words[word_index]);
			fflush(stdout);
		}
		else {
			printf("Index out of bounds!!!\n");
			fflush(stdout);
		}
	}
}
